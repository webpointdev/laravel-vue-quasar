(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{dbab:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-mt-none",staticStyle:{"background-color":"#3E444E"}},[[s("div",[s("q-bar",{staticStyle:{"background-color":"#3E444E"}},[s("q-btn",{attrs:{dense:"",flat:"",icon:"close",color:"white"},on:{click:t.backToPage}}),s("div",{staticClass:"text-h6 text-white"},[t._v("Edit Profile")])],1)],1),s("div",{staticClass:"q-pa-md",staticStyle:{"background-color":"#3E444E"}},[s("q-form",{ref:"userForm",staticClass:"text-center q-pa-md",staticStyle:{"max-width":"400px",width:"100%","border-radius":"10px",margin:"auto"},attrs:{rounded:"",model:t.userForm},on:{submit:t.onSubmit}},[s("q-card",{staticStyle:{"background-color":"#3E444E","box-shadow":"none"}},[s("q-card-section",{staticClass:"text-left q-pb-none"},[s("span",{staticClass:"text-white"},[t._v("Name")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userForm.full_name,callback:function(e){t.$set(t.userForm,"full_name",e)},expression:"userForm.full_name"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[t._v("Username")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userForm.name,callback:function(e){t.$set(t.userForm,"name",e)},expression:"userForm.name"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[t._v("Email")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userForm.email,callback:function(e){t.$set(t.userForm,"email",e)},expression:"userForm.email"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[t._v("Mobile")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userForm.phone,callback:function(e){t.$set(t.userForm,"phone",e)},expression:"userForm.phone"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[t._v("ZipCode")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userForm.zipcode,callback:function(e){t.$set(t.userForm,"zipcode",e)},expression:"userForm.zipcode"}})],1),s("q-card-actions",{attrs:{align:"center"}},[s("div",{staticClass:"q-px-md"},[s("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{"no-caps":"",dense:"",rounded:"",label:"Logout",color:"blue-7"},on:{click:function(e){return t.logout()}}}),t._v(" Â \n              "),s("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{color:"blue-7",label:"Update","no-caps":"",dense:"",rounded:"",type:"submit"}})],1)])],1)],1)],1)],s("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":150,offset:[18,18]}},[s("q-btn",{attrs:{fab:"",icon:"keyboard_arrow_up",color:"purple-7"}})],1)],2)},a=[],o=s("a34a"),n=s.n(o),c=(s("96cf"),s("c973")),i=s.n(c),u=s("1e53"),l=s("f508"),d={name:"Profile",data:function(){return{isNewPage:!1,userForm:{full_name:"",name:"",phone:"",email:"",zipcode:""},currentUserID:""}},computed:{user:{get:function(){return this.$store.state.auth.user}},userType:{get:function(){return this.$store.state.auth.userType}},userSubcontractor:{get:function(){return this.$store.state.auth.userSubcontractor}}},created:function(){this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getUserInfo()},methods:{logout:function(){this.$store.commit("auth/token",""),this.$store.commit("auth/user",{}),this.$router.push("/login")},getUserInfo:function(){var t=i()(n.a.mark((function t(){var e,s;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},l["a"].show(),t.prev=2,t.next=5,u["a"].getMyProfile(e);case 5:s=t.sent,this.userForm=s.data.user,l["a"].hide(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),l["a"].hide();case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=this;return i()(n.a.mark((function e(){var s,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={data:t.userForm},e.prev=1,e.next=4,u["a"].updateUserInfo(s);case 4:r=e.sent,console.log("res",r),t.$q.notify({color:"positive",position:"top",textColor:"white",message:"User is updated successfully"}),t.$router.push("/dashboard/schedules"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$router.push("/dashboard/schedules");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},backToPage:function(){"admin"!==this.userType?"Regular"===this.userSubcontractor?this.$router.push("/dashboard/schedules"):this.$router.push("/dashboard/dpd-modules"):this.$router.push("/dashboard/users")}}},p=d,h=s("2877"),m=s("9989"),b=s("d847"),f=s("9c40"),x=s("0378"),q=s("f09f"),g=s("a370"),w=s("27f9"),v=s("4b7e"),k=s("de5e"),C=s("5096"),y=s("eebe"),F=s.n(y),$=Object(h["a"])(p,r,a,!1,null,null,null);e["default"]=$.exports;F()($,"components",{QPage:m["a"],QBar:b["a"],QBtn:f["a"],QForm:x["a"],QCard:q["a"],QCardSection:g["a"],QInput:w["a"],QCardActions:v["a"],QPageSticky:k["a"],QPageScroller:C["a"]})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{b74a:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"q-mt-none",staticStyle:{"background-color":"#3E444E"}},[[s("div",[s("q-bar",{staticStyle:{"background-color":"#3E444E"}},[s("q-btn",{attrs:{dense:"",flat:"",icon:"close",color:"white"},on:{click:e.backToPage}}),s("div",{staticClass:"text-h6 text-white"},[e._v("Edit Profile")])],1)],1),s("div",{staticClass:"q-pa-md",staticStyle:{"background-color":"#3E444E"}},[s("q-form",{ref:"userForm",staticClass:"text-center q-pa-md",staticStyle:{"max-width":"400px",width:"100%","border-radius":"10px",margin:"auto"},attrs:{rounded:"",model:e.userForm},on:{submit:e.onSubmit}},[s("q-card",{staticStyle:{"background-color":"#3E444E","box-shadow":"none"}},[s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Full Name")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Company")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.belongs,callback:function(t){e.$set(e.userForm,"belongs",t)},expression:"userForm.belongs"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Depot Location")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.depot_location,callback:function(t){e.$set(e.userForm,"depot_location",t)},expression:"userForm.depot_location"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Mobile")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.phone,callback:function(t){e.$set(e.userForm,"phone",t)},expression:"userForm.phone"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Address")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.address,callback:function(t){e.$set(e.userForm,"address",t)},expression:"userForm.address"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("ZipCode")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.zipcode,callback:function(t){e.$set(e.userForm,"zipcode",t)},expression:"userForm.zipcode"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Country")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.country,callback:function(t){e.$set(e.userForm,"country",t)},expression:"userForm.country"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Email")]),s("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),s("q-card-section",{staticClass:"text-left q-py-none"},[s("q-checkbox",{staticClass:"q-mx-auto text-white",attrs:{val:!0,label:"Do you want to change your password?",color:"grey",dark:""},model:{value:e.isChangePassword,callback:function(t){e.isChangePassword=t},expression:"isChangePassword"}})],1),e.isChangePassword?s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Password")]),s("base-text-field",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","normalize-bottom":"",icon:"mdi-card",clearable:"",type:"password","hide-show-password":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}],null,!1,3624052026),model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1):e._e(),e.isChangePassword?s("q-card-section",{staticClass:"text-left q-py-none"},[s("span",{staticClass:"text-white"},[e._v("Confirm")]),s("base-text-field",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","normalize-bottom":"",icon:"mdi-card",clearable:"",type:"password",rules:[function(t){return t===e.userForm.password||"Password is not match"}],"hide-show-password":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}],null,!1,3624052026),model:{value:e.userForm.confirmPassword,callback:function(t){e.$set(e.userForm,"confirmPassword",t)},expression:"userForm.confirmPassword"}})],1):e._e(),s("q-card-actions",{attrs:{align:"center"}},[s("div",{staticClass:"q-px-md"},[s("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{"no-caps":"",dense:"",rounded:"",label:"Logout",color:"blue-7"},on:{click:function(t){return e.logout()}}}),e._v(" Â \n              "),s("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{color:"blue-7",label:"Update","no-caps":"",dense:"",rounded:"",type:"submit"}})],1)])],1)],1)],1)]],2)},a=[],r=s("a34a"),n=s.n(r),c=(s("96cf"),s("c973")),i=s.n(c),l=s("1e53"),u=s("f508"),d={name:"Profile",data:function(){return{isNewPage:!1,userForm:{name:"",password:"",confirmPassword:"",phone:"",email:"",full_name:"",address:"",country:"",zipcode:"",is_active:0,user_type:1,belongs:"",parent_id:"",depot_location:""},subContractors:["DPD","Regular"],isChangePassword:!1}},computed:{user:{get:function(){return this.$store.state.auth.user}},userType:{get:function(){return this.$store.state.auth.userType}},userSubcontractor:{get:function(){return this.$store.state.auth.userSubcontractor}}},created:function(){this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getUserInfo()},methods:{logout:function(){this.$store.commit("auth/token",""),this.$store.commit("auth/user",{}),this.$store.commit("auth/setDpdSid",""),this.$router.push("/login")},getUserInfo:function(){var e=i()(n.a.mark((function e(){var t,s;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},u["a"].show(),e.prev=2,e.next=5,l["a"].getMyProfile(t);case 5:s=e.sent,this.userForm=s.data.user,u["a"].hide(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),u["a"].hide();case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(){var e=this;return i()(n.a.mark((function t(){var s,o;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return!1===e.isChangePassword&&delete e.userForm["password"],s={data:e.userForm},t.prev=2,t.next=5,l["a"].updateUserInfo(s);case 5:o=t.sent,console.log("res",o),e.$q.notify({color:"positive",position:"top",textColor:"white",message:"Client is updated successfully"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log("eeeeeeeeeeee",t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},backToPage:function(){"admin"!==this.userType?"Regular"===this.userSubcontractor?this.$router.push("/dashboard/schedules"):this.$router.push("/dashboard/dpd-modules"):this.$router.push("/dashboard/users")}}},p=d,m=s("2877"),h=s("9989"),b=s("d847"),x=s("9c40"),f=s("0378"),w=s("f09f"),q=s("a370"),C=s("27f9"),g=s("ddd8"),y=s("8f8e"),k=s("0016"),v=s("4b7e"),F=s("de5e"),_=s("5096"),$=s("eebe"),P=s.n($),S=Object(m["a"])(p,o,a,!1,null,null,null);t["default"]=S.exports;P()(S,"components",{QPage:h["a"],QBar:b["a"],QBtn:x["a"],QForm:f["a"],QCard:w["a"],QCardSection:q["a"],QInput:C["a"],QSelect:g["a"],QCheckbox:y["a"],QIcon:k["a"],QCardActions:v["a"],QPageSticky:F["a"],QPageScroller:_["a"]})}}]);
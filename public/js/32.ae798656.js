(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"00b9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{staticClass:"q-mt-none",staticStyle:{"background-color":"#3E444E"}},[[r("div",[r("div",[r("q-bar",{staticStyle:{"background-color":"#3E444E"}},[r("q-btn",{attrs:{dense:"",flat:"",icon:"close",color:"white"},on:{click:e.goToPerformance}}),r("div",{staticClass:"text-h6 text-white"},[e._v("My Profile")])],1)],1),r("div",{staticClass:"q-px-md",staticStyle:{"background-color":"#3E444E"}},[r("q-form",{ref:"driverForm",staticClass:"text-center q-px-md",staticStyle:{"max-width":"400px",width:"100%",margin:"auto"},attrs:{model:e.driverForm},on:{submit:e.onSubmit}},[r("q-card",{staticStyle:{"background-color":"#3E444E","box-shadow":"none"}},[r("q-card-section",{staticClass:"text-left q-py-none"},[r("span",{staticClass:"text-white"},[e._v("Full Name")]),r("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",disable:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.driverForm.driver_name,callback:function(t){e.$set(e.driverForm,"driver_name",t)},expression:"driverForm.driver_name"}})],1),r("q-card-section",{staticClass:"text-left q-py-none"},[r("span",{staticClass:"text-white"},[e._v("Mobile")]),r("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",disable:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.driverForm.phone,callback:function(t){e.$set(e.driverForm,"phone",t)},expression:"driverForm.phone"}})],1),r("q-card-section",{staticClass:"text-left q-py-none row"},[r("div",{staticClass:"col-6"},[r("q-radio",{staticClass:"q-mx-auto text-white",attrs:{disable:"",val:"per_stop",label:"PAY PER STOP",color:"white","keep-color":""},model:{value:e.driverForm.pay_type,callback:function(t){e.$set(e.driverForm,"pay_type",t)},expression:"driverForm.pay_type"}})],1),r("div",{staticClass:"col-6"},[r("q-radio",{staticClass:"q-mx-auto text-white",attrs:{disable:"",val:"fixed",label:"FIXED RATE",color:"white","keep-color":""},model:{value:e.driverForm.pay_type,callback:function(t){e.$set(e.driverForm,"pay_type",t)},expression:"driverForm.pay_type"}})],1)]),r("q-card-section",{staticClass:"text-left q-py-none"},[r("span",{staticClass:"text-white"},[e._v("Payment")]),r("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",disable:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.driverForm.pay_amount,callback:function(t){e.$set(e.driverForm,"pay_amount",t)},expression:"driverForm.pay_amount"}})],1),r("q-card-section",{staticClass:"text-left q-py-none"},[r("span",{staticClass:"text-white"},[e._v("E-Mail")]),r("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",disable:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:e.driverForm.email,callback:function(t){e.$set(e.driverForm,"email",t)},expression:"driverForm.email"}})],1),r("q-card-section",{staticClass:"text-left q-py-none"},[r("q-checkbox",{staticClass:"q-mx-auto text-white",attrs:{label:"Do you want to change your password?",color:"grey",dark:""},model:{value:e.isChangePassword,callback:function(t){e.isChangePassword=t},expression:"isChangePassword"}})],1),e.isChangePassword?r("q-card-section",{staticClass:"text-left q-py-none"},[r("span",{staticClass:"text-white"},[e._v("Password")]),r("base-text-field",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","normalize-bottom":"",icon:"mdi-card",clearable:"",type:"password","hide-show-password":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}],null,!1,3624052026),model:{value:e.driverForm.password,callback:function(t){e.$set(e.driverForm,"password",t)},expression:"driverForm.password"}})],1):e._e(),e.isChangePassword?r("q-card-section",{staticClass:"text-left q-py-none"},[r("span",{staticClass:"text-white"},[e._v("Confirm")]),r("base-text-field",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","normalize-bottom":"",icon:"mdi-card",clearable:"",type:"password",rules:[function(t){return t===e.driverForm.password||"Password is not match"}],"hide-show-password":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}],null,!1,3624052026),model:{value:e.driverForm.confirmPassword,callback:function(t){e.$set(e.driverForm,"confirmPassword",t)},expression:"driverForm.confirmPassword"}})],1):e._e(),r("q-card-actions",{attrs:{align:"center"}},[r("div",{staticClass:"q-px-md"},[r("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{"no-caps":"",dense:"",rounded:"",label:"Logout",color:"blue-7"},on:{click:e.logout}}),e._v(" Â \n                "),r("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{color:"blue-7",label:"Update","no-caps":"",dense:"",rounded:"",type:"submit"}})],1)])],1)],1)],1)])]],2)},s=[],o=r("a34a"),i=r.n(o),n=(r("96cf"),r("c973")),c=r.n(n),d=r("f508"),l=r("1e53"),u={name:"NewDriver",data:function(){return{driverForm:{id:"",full_name:"",driver_name:"",password:"",confirmPassword:"",phone:"",email:"",pay_type:"",pay_amount:"",has_access:1},isChangePassword:!1,userAvatar:{}}},computed:{driver:{get:function(){return this.$store.state.auth.driver}},userSubcontractor:{get:function(){return this.$store.state.auth.userSubcontractor}}},created:function(){var e=this;return c()(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("auth/pageTitle",e.$router.currentRoute.meta.title),t.next=3,e.getDriverInfo(e.driver.id);case 3:case"end":return t.stop()}}),t)})))()},methods:{goToPerformance:function(){console.log("dddddddddd",this.userSubcontractor),"Regular"===this.userSubcontractor?this.$router.push("/dashboard/driver-performance"):"DPD"===this.userSubcontractor&&this.$router.push("/dashboard/dpd-driver-performance")},logout:function(){this.$store.commit("auth/token",""),this.$store.commit("auth/driver",{}),this.$store.commit("auth/setDpdSid",""),this.$router.push("/login")},getDriverInfo:function(){var e=c()(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.driverForm=this.driver;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addAvatar:function(e){this.userAvatar=e[0]},onSubmit:function(){var e=this;return c()(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return!1===e.isChangePassword&&delete e.driver["password"],r={data:e.driverForm},r.conditions={id:e.driverForm.id},d["a"].show(),t.prev=4,t.next=7,l["a"].updateDriver(r);case 7:a=t.sent,d["a"].hide(),console.log("result",a.data),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),d["a"].hide(),console.log("error",t.t0);case 16:e.$router.push("/dashboard/driver-performance");case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()}}},p=u,m=r("2877"),h=r("9989"),v=r("d847"),b=r("9c40"),w=r("0378"),f=r("f09f"),x=r("a370"),q=r("27f9"),y=r("3786"),C=r("8f8e"),g=r("0016"),k=r("4b7e"),F=r("eebe"),_=r.n(F),P=Object(m["a"])(p,a,s,!1,null,null,null);t["default"]=P.exports;_()(P,"components",{QPage:h["a"],QBar:v["a"],QBtn:b["a"],QForm:w["a"],QCard:f["a"],QCardSection:x["a"],QInput:q["a"],QRadio:y["a"],QCheckbox:C["a"],QIcon:g["a"],QCardActions:k["a"]})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"91f8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-mt-none",staticStyle:{"background-color":"#3E444E"}},[[a("div",[a("div",[a("q-bar",{staticStyle:{"background-color":"#3E444E"}},[a("q-btn",{attrs:{dense:"",flat:"",icon:"close",color:"white"},on:{click:function(e){return t.$router.push("/dashboard/clients")}}}),a("div",{staticClass:"text-h6 text-white"},[t._v(t._s(t.isNewPage?"Add Client":"Edit Client"))])],1)],1),a("div",{staticClass:"q-px-md",staticStyle:{"background-color":"#3E444E"}},[a("q-form",{ref:"userForm",staticClass:"text-center q-px-md",staticStyle:{"max-width":"400px",width:"100%",margin:"auto"},attrs:{model:t.userData},on:{submit:t.onSubmit}},[a("q-card",{staticStyle:{"background-color":"#3E444E","box-shadow":"none"}},[a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Full Name")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Company")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.belongs,callback:function(e){t.$set(t.userData,"belongs",e)},expression:"userData.belongs"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Depot Location")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.depot_location,callback:function(e){t.$set(t.userData,"depot_location",e)},expression:"userData.depot_location"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Mobile")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.phone,callback:function(e){t.$set(t.userData,"phone",e)},expression:"userData.phone"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Sub-Contractor")]),a("q-select",{staticClass:"q-pb-md",attrs:{outlined:"",dense:"","label-color":"black",color:"blue-7","bg-color":"white",options:t.subContractors,"emit-value":"","map-options":"",required:""},model:{value:t.userData.subcontractor,callback:function(e){t.$set(t.userData,"subcontractor",e)},expression:"userData.subcontractor"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Address")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.address,callback:function(e){t.$set(t.userData,"address",e)},expression:"userData.address"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("ZipCode")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.zipcode,callback:function(e){t.$set(t.userData,"zipcode",e)},expression:"userData.zipcode"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Country")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.country,callback:function(e){t.$set(t.userData,"country",e)},expression:"userData.country"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Email")]),a("q-input",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","input-class":"text-black text-center"},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Password")]),a("base-text-field",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","normalize-bottom":"",icon:"mdi-card",clearable:"",type:"password","hide-show-password":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}]),model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),a("q-card-section",{staticClass:"text-left q-py-none"},[a("span",{staticClass:"text-white"},[t._v("Confirm")]),a("base-text-field",{staticClass:"q-pb-md",attrs:{dense:"",outlined:"",required:"","bg-color":"white",color:"blue-7","normalize-bottom":"",icon:"mdi-card",clearable:"",type:"password",rules:[function(e){return e===t.userData.password||"Password is not match"}],"hide-show-password":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}]),model:{value:t.userData.confirmPassword,callback:function(e){t.$set(t.userData,"confirmPassword",e)},expression:"userData.confirmPassword"}})],1),a("q-card-actions",{attrs:{align:"center"}},[a("div",{staticClass:"q-px-md"},[a("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{color:"blue-7",label:t.isNewPage?"Add New":"Update","no-caps":"",dense:"",rounded:"",type:"submit"}}),t._v(" Â \n                "),1==!t.isNewPage?a("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{"no-caps":"",dense:"",rounded:"",label:t.userData.is_active?"DEACTIVATE":"ACTIVATE",color:"blue-7"},on:{click:function(e){return t.activeUser()}}}):t._e()],1)])],1)],1)],1)])]],2)},r=[],o=a("a34a"),n=a.n(o),i=(a("96cf"),a("c973")),c=a.n(i),l=a("f508"),u=a("1e53"),d={name:"NewUser",data:function(){return{userData:{id:"",depot_location:"",parent_id:"",user_roles:"",name:"",password:"",confirmPassword:"",phone:"",email:"",full_name:"",belongs:"",country:"",address:"",zipcode:"",user_type:1,is_active:0,subcontractor:"Regular"},subContractors:["DPD","Regular"],userAvatar:{},isNewPage:!1}},created:function(){var t=this;return c()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.commit("auth/pageTitle",t.$router.currentRoute.meta.title),t.isNew(),t.isNewPage){e.next=5;break}return e.next=5,t.getUserInfo(t.userData.id);case 5:case"end":return e.stop()}}),e)})))()},methods:{isNew:function(){null!==this.$router.currentRoute.params.id&&void 0!==this.$router.currentRoute.params.id&&""!==this.$router.currentRoute.params.id?(this.isNewPage=!1,this.userData.id=this.$router.currentRoute.params.id):this.isNewPage=!0},getUserInfo:function(){var t=c()(n.a.mark((function t(e){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l["a"].show(),t.prev=1,t.next=4,u["a"].getUserInfo(e);case 4:a=t.sent,this.userData=a.data.user,console.log("user details",a.data.user),l["a"].hide(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),l["a"].hide(),this.$router.push("/dashboard/clients");case 14:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}(),addAvatar:function(t){this.userAvatar=t[0]},onSubmit:function(){var t=this;return c()(n.a.mark((function e(){var a,s,r;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isNewPage){e.next=17;break}return l["a"].show(),e.prev=2,e.next=5,u["a"].registerUser(t.userData);case 5:a=e.sent,console.log("res",a.data),l["a"].hide(),t.$q.notify({color:"positive",textColor:"white",position:"top",message:"Client is registered successfully"}),t.$router.push("/dashboard/clients"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),l["a"].hide();case 15:e.next=34;break;case 17:return s={data:t.userData},s.conditions={id:t.userData.id},l["a"].show(),e.prev=20,e.next=23,u["a"].updateUser(s);case 23:r=e.sent,l["a"].hide(),console.log("result",r.data),t.$q.notify({color:"positive",textColor:"white",position:"top",message:"Client is updated successfully"}),t.$router.push("/dashboard/clients"),e.next=34;break;case 30:e.prev=30,e.t1=e["catch"](20),l["a"].hide(),console.log("error",e.t1);case 34:case"end":return e.stop()}}),e,null,[[2,12],[20,30]])})))()},activeUser:function(){var t=this;return c()(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={is_active:!t.userData.is_active},a.conditions={id:t.userData.id},l["a"].show(),e.prev=3,e.next=6,u["a"].activeUser(a);case 6:s=e.sent,console.log("res",s.data),l["a"].hide(),t.$q.notify({color:"positive",textColor:"white",position:"top",message:t.userData.is_active?"Client is deactivated":"Client is activated"}),t.$router.push("/dashboard/clients"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),l["a"].hide();case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))()}}},p=d,b=a("2877"),h=a("9989"),x=a("d847"),m=a("9c40"),w=a("0378"),f=a("f09f"),q=a("a370"),v=a("27f9"),C=a("ddd8"),D=a("0016"),g=a("4b7e"),k=a("eebe"),y=a.n(k),_=Object(b["a"])(p,s,r,!1,null,null,null);e["default"]=_.exports;y()(_,"components",{QPage:h["a"],QBar:x["a"],QBtn:m["a"],QForm:w["a"],QCard:f["a"],QCardSection:q["a"],QInput:v["a"],QSelect:C["a"],QIcon:D["a"],QCardActions:g["a"]})}}]);